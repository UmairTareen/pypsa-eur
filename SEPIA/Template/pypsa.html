<!-- <!DOCTYPE html> -->
<html class="no-js" lang="en">

        <link rel='stylesheet' id='twentytwenty-css' href='https://clever-energy-scenario.eu/wp-content/themes/twentytwenty/style.css?ver=6.1.1' media='all' />
        <link rel='stylesheet' id='twentytwenty-style-css' href='https://clever-energy-scenario.eu/wp-content/themes/clever/style.css?ver=1.' media='all' />
        <style>
        /* SEPIA style changes */
        #navsticky .menu-item { display: inline-block !important }
        #menu-item-59 img { display: inline-block }
        .site-main { padding:0 5%; }
        /* #menu-dropdown { top:-11px !important } */
        #navsticky li { top: -15px; }
        #navsticky #menu-dropdown { top: -21px; }
        #navsticky .menu-item-70 A { background:none; }
        #navsticky .menu-item-70 { margin-left:0; }
        #navsticky #return-arrow {
            font-size: 30px;
            display: inline;
            padding-right: 7px;
        }
        </style>

    <script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>

    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-VP0W0EPDS9');
    </script>
    <script>
        var selectedFileType = "combined_scenario_chart"; // Initialize with the default file type
        var selectedCountry = "BE"; // Initialize empty

        function updateDropdown() {
            var dropdown = document.getElementById("country-select");

            // Clear existing options
            //dropdown.innerHTML = '<option value=""></option>';

            // Define a mapping between short codes and full names
            var countryMapping = {
                BE: "Belgium",
				EU: "5 countries"
                // Add more entries for other countries as needed
            };

            // Get the current filename from the URL, safely
            var currentUrl = window.location.href;
            var urlPath = currentUrl.substring(currentUrl.lastIndexOf('/') + 1);

            // Check each country code in the mapping
            for (let countryCode in countryMapping) {
                if (urlPath.includes(countryCode + '_')) {
                    dropdown.value = countryCode;
                    selectedCountry = countryCode;
                    break;
                }
            }


            // Get the file type select dropdown
            var fileTypeSelect = document.getElementById("file-type-select");

            // Define possible file types to check
            var fileTypes = [
                "combined_scenario_chart",
                "combined_chart_suff",
                "combined_chart_ref_",
                "results_suff",
                "results_ref"
            ];

            // Check if URL contains any of the file types
            for (let fileType of fileTypes) {
                if (urlPath.includes(fileType)) {
                    selectedFileType = fileType;
                    fileTypeSelect.value = fileType;
                    break;
                }
            }

        }

        function changeCountry() {
            selectedCountry = document.getElementById("country-select").value;
            if (selectedCountry) { // Only update if a country is selected
                updateUrl();
            }
        }

        function changeFileType() {
            selectedFileType = document.getElementById("file-type-select").value;
            if (selectedCountry) { // Only update if a country is selected
                updateUrl();
            }
        }

        function getSelectedFileType() {
            var fileTypeSelect = document.getElementById("file-type-select");
            return fileTypeSelect.value;
        }

        function updateUrl() {
            var url = selectedCountry + "_" + selectedFileType + ".html";
            
            // Mapping for more readable country and scenario names
            var countryNames = {
                BE: "Belgium",
                EU: "5 countries"
            };

            var scenarioNames = {
                "combined_scenario_chart": "Scenario Overview",
                "combined_chart_suff": "Sufficiency Scenario",
                "combined_chart_ref": "Reference Scenario",
                "results_ref": "Reference Scenario 2",
                "results_suff": "Sufficiency Scenario 2"
            };

            // Use the existing checkFileExistence function to verify file availability
            if (checkFileExistence(url)) {
                console.log("Updating URL:", url);
                window.location.href = url;
            } else {
                // Provide a detailed alert with readable names
                var countryName = countryNames[selectedCountry] || selectedCountry;
                var scenarioName = scenarioNames[selectedFileType] || selectedFileType;

                // Show an alert with specific details
                alert(`Sorry, the selected combination is not available.\n\nRegion: ${countryName}\nScenario: ${scenarioName}`);
                
                // Reset the dropdowns to their previous values
                document.getElementById("country-select").value = selectedCountry;
                document.getElementById("file-type-select").value = selectedFileType;
            }
        }

        function checkFileExistence(filename) {
            // List of predefined files
            var predefinedFiles = [
                "BE_combined_scenario_chart.html",
                "BE_combined_chart_suff.html",
                "BE_combined_chart_ref.html",
                "BE_Results_suff.html",
                "BE_Results_ref.html",
                "EU_combined_chart_suff.html",
                "EU_combined_chart_ref.html",
                "EU_Results_suff.html",
                "EU_Results_ref.html",
                // Add more valid file combinations as needed
            ];

            // Check if the filename exists in the predefined list
            return predefinedFiles.includes(filename);
        }

        function checkFileExistenceHelper(filename) {
            // Replace this with your actual logic to check file existence
            // For simplicity, let's assume you have a function or method to check the existence of the file
            var exists = checkFileExistence(filename);

            // Print a message to the console for debugging
            console.log(`${filename} exists: ${exists}`);

            return exists;
        }

        // Placeholder function for file existence (replace with your actual logic)
        function checkFileExistence(filename) {
            // Replace this with your actual logic to check file existence
            // For simplicity, let's assume the file always exists
            return true;
        }

        // Call updateDropdown on page load
        window.onload = function () {
            updateDropdown();

            // Attach event listeners using JavaScript
            document.getElementById("country-select").addEventListener("change", changeCountry);
            document.getElementById("file-type-select").addEventListener("change", changeFileType);
        };
    </script>
    </script>
</head>

<body class="home page-template page-template-homepage page-template-homepage-php page page-id-7 page-parent wp-custom-logo wp-embed-responsive singular enable-search-modal has-post-thumbnail has-no-pagination not-showing-comments show-avatars homepage footer-top-visible">
    <div id="top"></div>

    <div id="navsticky">
    <A HREF="https://www.negawatt.be/"><img src="https://www.negawatt.be/scenario/logo.png" class="logo_stiky"><style>
    .logo_stiky {
        width: 250px; /* Adjust the width as needed */
        height: auto; /* Maintain aspect ratio */
    }
</style>
</a>
        <li id="menu-item-59" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home menu-item-59"></li>
        <li id="menu-dropdown" >
            <div id="menu-dropdown">
             <form>
    <select id="country-select">
        <!-- Options will be dynamically added here -->
        <option  value="BE">Belgium</option>
        <option  value="EU">5 countries</option>
    </select>

    <!-- Add this HTML element for the file type dropdown in your document -->
    <select id="file-type-select">
        <option value="combined_scenario_chart">Scenario overview</option>
        <option value="combined_chart_suff">Sufficiency Scenario</option>
        <option value="combined_chart_ref">Reference Scenario</option>
        <option value="results_suff">Sufficiency Scenario 2</option>
        <option value="results_ref">Reference Scenario 2</option>
    </select>
</form>



        </li>
        <li id="menu-item-70" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-70"><a href="https://www.negawatt.be/" target="_blank" aria-current="page"><span id="return-arrow">&#5130;</span>	
             Back to <br>project website</a></li>
    </div>

    <main id="main" class="site-main main_large" role="main">
        <div class="encart">
            <div style="overflow:hidden;">
                <h2>Table of contents</h2>
                {{TABLE_OF_CONTENTS}}
            </div>
        </div></div>
        <div class="clear"></div>
        
        {{MAIN}}
    </main>
    </html>
