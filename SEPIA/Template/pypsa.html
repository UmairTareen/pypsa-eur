<!-- <!DOCTYPE html> -->
<html class="no-js" lang="en">

        <link rel='stylesheet' id='twentytwenty-css' href='https://clever-energy-scenario.eu/wp-content/themes/twentytwenty/style.css?ver=6.1.1' media='all' />
        <link rel='stylesheet' id='twentytwenty-style-css' href='https://clever-energy-scenario.eu/wp-content/themes/clever/style.css?ver=1.' media='all' />
        <style>
        /* SEPIA style changes */
        #navsticky .menu-item { display: inline-block !important }
        #menu-item-59 img { display: inline-block }
        .site-main { padding:0 5%; }
        /* #menu-dropdown { top:-11px !important } */
        #navsticky li { top: -15px; }
        #navsticky #menu-dropdown { top: -21px; }
        #navsticky .menu-item-70 A { background:none; }
        #navsticky .menu-item-70 { margin-left:0; }
        #navsticky #return-arrow {
            font-size: 30px;
            display: inline;
            padding-right: 7px;
        }
        </style>

    <script src="https://cdn.plot.ly/plotly-2.16.1.min.js"></script>

    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-VP0W0EPDS9');
    </script>
    <script>
        var selectedFileType = "combined_scenario_chart"; // Initialize with the default file type
        var selectedCountry = "BE"; // Initialize empty

        function updateDropdown() {
            var dropdown = document.getElementById("country-select");

            // Clear existing options
            dropdown.innerHTML = '<option value="">Select Region</option>';

            // Define a mapping between short codes and full names
            var countryMapping = {
                BE: "Belgium",
				EU: "5 countries"
                // Add more entries for other countries as needed
            };

            // Loop through short codes and add options
            Object.keys(countryMapping).forEach(function (code) {
                // Check if any file exists for the given code
                var fileExists = checkFileExistence(code);

                // If at least one file exists, add the option
                if (fileExists) {
                    dropdown.innerHTML += `<option value="${code}">${countryMapping[code]}</option>`;
                }
            });

            // Restore the selected file type
            var fileTypeSelect = document.getElementById("file-type-select");
            fileTypeSelect.value = selectedFileType;

            // Try to get country from URL if it exists
            var urlPath = window.location.pathname;
            var match = urlPath.match(/^([A-Z]+)_/);
            if (match) {
                selectedCountry = match[1];
                dropdown.value = selectedCountry;
            }
        }

        function changeCountry() {
            selectedCountry = document.getElementById("country-select").value;
            if (selectedCountry) { // Only update if a country is selected
                updateUrl();
            }
        }

        function changeFileType() {
            selectedFileType = document.getElementById("file-type-select").value;
            if (selectedCountry) { // Only update if a country is selected
                updateUrl();
            }
        }

        function getSelectedFileType() {
            var fileTypeSelect = document.getElementById("file-type-select");
            return fileTypeSelect.value;
        }

        function updateUrl() {
            var url = selectedCountry + "_" + selectedFileType + ".html";
            console.log("Updating URL:", url);
            window.location.href = url;
        }

        function checkFileExistence(code) {
            // Implement your logic to check if at least one file exists for the given code
            // You can customize this function based on your file naming conventions

            // Example: Check if at least one file exists for the specified code and file type
            var predefinedFiles = [
                code + "_combined_scenario_chart.html",
                code + "_combined_chart_suff.html",
                code + "_combined_chart_bau.html",
                code + "_Results_suff.html",
                code + "_Results_ref.html",
                // Add more files as needed
            ];

            return predefinedFiles.some(function (filename) {
                return checkFileExistenceHelper(filename);
            });
        }

        function checkFileExistenceHelper(filename) {
            // Replace this with your actual logic to check file existence
            // For simplicity, let's assume you have a function or method to check the existence of the file
            var exists = checkFileExistence(filename);

            // Print a message to the console for debugging
            console.log(`${filename} exists: ${exists}`);

            return exists;
        }

        // Placeholder function for file existence (replace with your actual logic)
        function checkFileExistence(filename) {
            // Replace this with your actual logic to check file existence
            // For simplicity, let's assume the file always exists
            return true;
        }

        // Call updateDropdown on page load
        window.onload = function () {
            updateDropdown();

            // Attach event listeners using JavaScript
            document.getElementById("country-select").addEventListener("change", changeCountry);
            document.getElementById("file-type-select").addEventListener("change", changeFileType);
        };
    </script>
    </script>
</head>

<body class="home page-template page-template-homepage page-template-homepage-php page page-id-7 page-parent wp-custom-logo wp-embed-responsive singular enable-search-modal has-post-thumbnail has-no-pagination not-showing-comments show-avatars homepage footer-top-visible">
    <div id="top"></div>

    <div id="navsticky">
    <A HREF="https://www.negawatt.be/"><img src="https://www.negawatt.be/scenario/logo.png" class="logo_stiky"><style>
    .logo_stiky {
        width: 250px; /* Adjust the width as needed */
        height: auto; /* Maintain aspect ratio */
    }
</style>
</a>
        <li id="menu-item-59" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home menu-item-59"></li>
        <li id="menu-dropdown" >
            <div id="menu-dropdown">
             <form>
    <select id="country-select">
        <!-- Options will be dynamically added here -->
        <option value="">Select region</option>
    </select>

    <!-- Add this HTML element for the file type dropdown in your document -->
    <select id="file-type-select">
        <option value="combined_scenario_chart">Scenario overview</option>
        <option value="combined_chart_suff">Sufficiency Scenario</option>
        <option value="combined_chart_bau">Reference Scenario</option>
        <option value="results_suff">Sufficiency Scenario 2</option>
        <option value="results_ref">Reference Scenario 2</option>
    </select>
</form>



        </li>
        <li id="menu-item-70" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-70"><a href="https://www.negawatt.be/" target="_blank" aria-current="page"><span id="return-arrow">&#5130;</span>	
             Back to <br>project website</a></li>
    </div>

    <main id="main" class="site-main main_large" role="main">
        <div class="encart">
            <div style="overflow:hidden;">
                <h2>Table of contents</h2>
                {{TABLE_OF_CONTENTS}}
            </div>
        </div></div>
        <div class="clear"></div>
        
        {{MAIN}}
    </main>
    </html>
